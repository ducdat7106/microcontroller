https://controllerstech.com/input-capture-in-stm32/